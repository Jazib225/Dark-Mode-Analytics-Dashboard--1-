@import './fonts.css';
@import './tailwind.css';
@import './theme.css';

/* =============================================================================
   CSS CUSTOM PROPERTIES (Design Tokens)
   
   These variables enable proper layout without transform: scale() hacks.
   Adjust density through font-size, spacing, and max-width instead.
   ============================================================================= */
:root {
  /* Header Configuration */
  --header-height: 56px;
  --bookmarks-bar-height: 44px;
  --total-header-offset: calc(var(--header-height) + var(--bookmarks-bar-height));

  /* Spacing Scale - Compact for density */
  --space-1: 0.125rem;
  --space-2: 0.25rem;
  --space-3: 0.375rem;
  --space-4: 0.5rem;
  --space-5: 0.75rem;
  --space-6: 1rem;
  --space-7: 1.25rem;
  --space-8: 1.5rem;

  /* Container widths */
  --max-content-width: 1600px;

  /* Base font size - KEY for density without scaling */
  --base-font-size: 14px;
}

/* Laptop screens (1366px - 1440px) - PRIMARY TARGET */
@media screen and (min-width: 1024px) and (max-width: 1536px) {
  :root {
    --header-height: 52px;
    --bookmarks-bar-height: 40px;
    --base-font-size: 13px;
    --max-content-width: 1400px;
  }
}

/* Large desktops (1536px+) */
@media screen and (min-width: 1536px) {
  :root {
    --header-height: 56px;
    --bookmarks-bar-height: 44px;
    --base-font-size: 14px;
    --max-content-width: 1600px;
  }
}

/* Tablets (768px - 1024px) */
@media screen and (max-width: 1024px) {
  :root {
    --header-height: 48px;
    --bookmarks-bar-height: 38px;
    --base-font-size: 13px;
  }
}

/* Mobile (< 768px) */
@media screen and (max-width: 768px) {
  :root {
    --header-height: 48px;
    --bookmarks-bar-height: 36px;
    --base-font-size: 13px;
  }
}

/* Small mobile (< 640px) */
@media screen and (max-width: 640px) {
  :root {
    --header-height: 40px;
    --bookmarks-bar-height: 28px;
    --base-font-size: 12px;
  }
}

/* Extra small mobile (< 480px) */
@media screen and (max-width: 480px) {
  :root {
    --header-height: 36px;
    --bookmarks-bar-height: 26px;
    --base-font-size: 11px;
  }
}

/* =============================================================================
   GLOBAL BASE STYLES
   ============================================================================= */
html {
  font-size: var(--base-font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

html,
body {
  overflow-x: hidden;
  max-width: 100vw;
  min-height: 100vh;
}

/* =============================================================================
   SCROLLBAR STYLES - Premium Dark Theme with Blue Accent
   ============================================================================= */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(74, 111, 165, 0.4) rgba(13, 13, 13, 0.8);
}

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: linear-gradient(to right, rgba(10, 10, 10, 0.9), rgba(13, 13, 13, 0.95));
  border-left: 1px solid rgba(55, 65, 81, 0.3);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(74, 111, 165, 0.6) 0%, rgba(58, 95, 149, 0.5) 100%);
  border-radius: 5px;
  border: 2px solid rgba(13, 13, 13, 0.8);
  transition: all 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(74, 111, 165, 0.85) 0%, rgba(58, 95, 149, 0.75) 100%);
  border-color: rgba(74, 111, 165, 0.3);
}

::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, rgba(90, 127, 181, 0.9) 0%, rgba(74, 111, 165, 0.85) 100%);
}

::-webkit-scrollbar-corner {
  background: rgba(10, 10, 10, 0.9);
}

/* Horizontal scrollbar specific */
::-webkit-scrollbar-track:horizontal {
  border-left: none;
  border-top: 1px solid rgba(55, 65, 81, 0.3);
}

/* =============================================================================
   LAYOUT ARCHITECTURE (NO TRANSFORM SCALING!)
   
   RULES:
   1. Header is STICKY with known height via CSS variable
   2. Content has proper padding-top using CSS variable
   3. Density achieved via font-size, NOT transform: scale()
   4. Proper z-index layering
   ============================================================================= */

/* App container - flex column layout */
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  position: relative;
}

/* Sticky Header - uses CSS variable for min-height, allows growth */
.site-header {
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  min-height: var(--header-height);
  z-index: 50;
  background: linear-gradient(to bottom, #0d0d0d, #0a0a0a);
  border-bottom: 1px solid rgba(55, 65, 81, 0.3);
  flex-shrink: 0;
  /* Ensure header content doesn't overflow */
  overflow: visible;
}

/* Header navigation container */
.header-nav {
  display: flex;
  align-items: center;
  height: 100%;
  padding: 0 var(--space-3);
  max-width: var(--max-content-width);
  margin: 0 auto;
  gap: var(--space-2);
}

/* Nav items container - scrollable on mobile */
.nav-items {
  display: flex;
  align-items: center;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -ms-overflow-style: none;
  flex-shrink: 1;
  min-width: 0;
  gap: 0;
}

.nav-items::-webkit-scrollbar {
  display: none;
}

/* Hide some nav items on very small screens */
@media screen and (max-width: 480px) {
  .nav-items>button:nth-child(n+5) {
    display: none;
  }
}

@media screen and (min-width: 640px) {
  .header-nav {
    padding: 0 var(--space-6);
    gap: var(--space-5);
  }
}

@media screen and (min-width: 1024px) {
  .header-nav {
    padding: 0 var(--space-7);
    gap: var(--space-6);
  }
}

/* Main content - NO scaling, proper padding-top */
.main-content {
  flex: 1;
  width: 100%;
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: var(--space-5);
  /* NO transform: scale() - uses proper CSS values */
}

@media screen and (min-width: 640px) {
  .main-content {
    padding: var(--space-6);
  }
}

@media screen and (min-width: 1024px) {
  .main-content {
    padding: var(--space-7);
  }
}

/* =============================================================================
   HEADER LAYOUT HELPERS
   ============================================================================= */
.header-left {
  display: flex;
  align-items: center;
  gap: clamp(0.5rem, 1.5vw, 1rem);
  flex-shrink: 0;
}

.header-center {
  display: flex;
  align-items: center;
  gap: clamp(0.25rem, 1vw, 0.75rem);
  flex: 1;
  min-width: 0;
  /* Critical: allows flex children to shrink below content size */
  overflow-x: auto;
  overflow-y: hidden;
  -ms-overflow-style: none;
  scrollbar-width: none;
  /* Prevent text truncation - let items scroll if needed */
  padding-right: var(--space-2);
}

.header-center::-webkit-scrollbar {
  display: none;
}

/* Navigation items container - responsive gaps */
.nav-items {
  display: flex;
  align-items: center;
  gap: clamp(0.125rem, 0.8vw, 0.5rem);
  flex-shrink: 0;
}

@media screen and (min-width: 640px) {
  .nav-items {
    gap: clamp(0.25rem, 1vw, 0.75rem);
  }
}

@media screen and (min-width: 1024px) {
  .nav-items {
    gap: clamp(0.5rem, 1.2vw, 1rem);
  }
}

.header-right {
  display: flex;
  align-items: center;
  gap: clamp(0.25rem, 0.8vw, 0.5rem);
  flex-shrink: 0;
  margin-left: auto;
  padding-left: var(--space-2);
}

@media screen and (min-width: 1024px) {
  .header-left {
    gap: clamp(0.75rem, 2vw, 1.5rem);
  }

  .header-center {
    gap: clamp(0.5rem, 1.5vw, 1rem);
  }

  .header-right {
    gap: clamp(0.5rem, 1vw, 0.75rem);
  }
}

@media screen and (min-width: 1280px) {
  .header-left {
    gap: 1.5rem;
  }

  .header-center {
    gap: 1rem;
  }

  .header-right {
    gap: 1rem;
  }
}

/* =============================================================================
   NAVIGATION LINK STYLES
   Responsive font sizing using clamp() to prevent truncation
   ============================================================================= */
.nav-link {
  position: relative;
  padding: var(--space-3) var(--space-2);
  /* clamp(min, preferred, max) - scales smoothly */
  font-size: clamp(0.625rem, 1.5vw, 0.875rem);
  font-weight: 300;
  letter-spacing: 0.02em;
  color: rgba(156, 163, 175, 1);
  transition: color 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.nav-link:hover {
  color: rgba(229, 231, 235, 1);
}

.nav-link.active {
  color: rgba(243, 244, 246, 1);
}

@media screen and (min-width: 640px) {
  .nav-link {
    padding: var(--space-4) var(--space-3);
    font-size: clamp(0.6875rem, 1.2vw, 0.8125rem);
  }
}

@media screen and (min-width: 1024px) {
  .nav-link {
    padding: var(--space-5) var(--space-4);
    font-size: clamp(0.75rem, 1vw, 0.875rem);
  }
}

@media screen and (min-width: 1280px) {
  .nav-link {
    padding: var(--space-5) var(--space-5);
    font-size: 0.875rem;
  }
}

/* =============================================================================
   COMPACT COMPONENT STYLES
   ============================================================================= */

/* Cards - Reduced padding for density */
.card-compact {
  padding: var(--space-4);
  border-radius: 0.5rem;
}

@media screen and (min-width: 1024px) {
  .card-compact {
    padding: var(--space-5);
  }
}

/* Tables - Denser rows */
.table-row-compact {
  padding: var(--space-2) var(--space-3);
}

@media screen and (min-width: 1024px) {
  .table-row-compact {
    padding: var(--space-3) var(--space-4);
  }
}

/* Buttons - Compact sizing */
.btn-compact {
  padding: var(--space-2) var(--space-4);
  font-size: 0.8125rem;
}

.btn-compact-sm {
  padding: var(--space-1) var(--space-3);
  font-size: 0.75rem;
}

/* =============================================================================
   SKELETON ANIMATION
   ============================================================================= */
@keyframes skeleton-pulse {

  0%,
  100% {
    opacity: 0.4;
  }

  50% {
    opacity: 0.7;
  }
}

.skeleton-pulse {
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

.skeleton {
  animation: skeleton-pulse 1.5s ease-in-out infinite;
  background: linear-gradient(90deg,
      rgba(55, 65, 81, 0.3) 0%,
      rgba(75, 85, 99, 0.3) 50%,
      rgba(55, 65, 81, 0.3) 100%);
  background-size: 200% 100%;
  border-radius: 0.25rem;
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

/* Container with max width */
.container-app {
  max-width: var(--max-content-width);
  margin: 0 auto;
  width: 100%;
}

/* Text density utilities */
.text-dense {
  line-height: 1.3;
}

.text-compact {
  line-height: 1.2;
}

/* Spacing utilities using CSS variables */
.gap-dense {
  gap: var(--space-2);
}

.gap-compact {
  gap: var(--space-3);
}

/* =============================================================================
   DEPRECATED CLASSES (for backwards compatibility, do nothing)
   These were the old scaling approach - now removed
   ============================================================================= */
.fixed-header {
  /* Deprecated - use .site-header instead */
}

.content-scaler {
  /* Deprecated - NO LONGER SCALES! */
  /* Was: transform: scale(0.8) - REMOVED */
}

.main-content-area {
  /* Deprecated - use .main-content instead */
}